<br>

<p align="center">
<img src="https://box.kancloud.cn/90f9b3c1d667aefa77b09ea1b7ffb054_120x120.png" alt="MixPHP">
</p>

<p align="center">é«˜æ€§èƒ½ â€¢ è½»é‡çº§ â€¢ å‘½ä»¤è¡Œ</p>

<p align="center">
<img src="https://img.shields.io/badge/php-%3E%3D7.2-brightgreen">
<img src="https://img.shields.io/badge/swoole-%3E%3D4.4.1-brightgreen">
<img src="https://img.shields.io/badge/license-apache%202-blue">
</p>

## Mix PHP æ˜¯ä»€ä¹ˆ

ä¸€ä¸ªåŸºäº Swoole å¼€å‘çš„é«˜æ€§èƒ½ PHP æ¡†æ¶ï¼Œç»è¿‡ä¸¤å¹´å‘å±•æ”¶è·äº†å¾ˆå¤šä¸­å°å‹å›¢é˜Ÿçš„æ”¯æŒï¼Œæ¡†æ¶ç‰ˆæœ¬ç»å†äº†ï¼š

- `V1.*`: åŸºäº Swoole çš„å¸¸é©»å†…å­˜å‹ PHP é«˜æ€§èƒ½æ¡†æ¶
- `V2.0`: åŸºäº Swoole çš„ FastCGIã€å¸¸é©»å†…å­˜ã€åç¨‹ä¸‰æ¨¡ PHP é«˜æ€§èƒ½æ¡†æ¶
- `V2.1`: åŸºäº Swoole 4.4+ å•çº¿ç¨‹åç¨‹ PHP æ¡†æ¶ ğŸ†•

## ä¸ä¼ ç»Ÿ MVC æ¡†æ¶æ¯”è¾ƒ

ä¼ ç»Ÿæ¡†æ¶å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨ HTTP é¢†åŸŸå¼€å‘ï¼Œè€Œ Mix èƒ½å¼€å‘ HTTPã€WebSocketã€TCPã€UDP å‡ ä¹å…¨éƒ¨äº’è”ç½‘é¢†åŸŸã€‚

åœ¨å‘½ä»¤å¼€å‘æ–¹é¢ Mix ä¹Ÿæœ‰æ›´å¤šçš„å°è£…ï¼Œå¡«å……ä»£ç å³å¯å¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„å‘½ä»¤è¡Œç¨‹åºã€‚

åœ¨æ€§èƒ½æ–¹é¢é‡‡ç”¨å¸¸é©»å†…å­˜+åç¨‹ï¼Œæ‹¥æœ‰ä¼ ç»Ÿæ¡†æ¶æ— æ³•æ¯”æ‹Ÿçš„æ€§èƒ½ã€‚ 

## ä¸å…¶ä»–åŸºäº Swoole çš„æ¡†æ¶æ¯”è¾ƒ

æœåŠ¡å™¨å…¨éƒ¨åŸºäº Swoole\Coroutine\Server å¼€å‘ï¼Œçº¿ç¨‹æ¨¡å‹ä¸ Node.js ä¸€æ ·ä¸ºå•è¿›ç¨‹å•çº¿ç¨‹æ¨¡å‹ (ç°æœ‰å…¶ä»– Swoole æ¡†æ¶åŸºæœ¬éƒ½æ˜¯å¤šè¿›ç¨‹æ¨¡å‹)ï¼Œç»„ä»¶å°è£…é£æ ¼å‚è€ƒ Golangï¼Œè¿™æ ·æ—¢æ‹¥æœ‰ Golang çš„ CSP å¹¶å‘æ¨¡å‹ï¼Œåˆæ— éœ€åƒ Golang ä¸€æ ·å¤„ç†æ•°æ®çš„å¹¶å‘å®‰å…¨ã€‚[[ä¸ºä½•ä» Reactor+Manager+Worker å¤šè¿›ç¨‹æ”¹ä¸ºå•çº¿ç¨‹åç¨‹]](https://zhuanlan.zhihu.com/p/93200932)

æ¡†æ¶éå¸¸è½»é‡çµæ´»ï¼Œç°æœ‰ç»„ä»¶å…¨éƒ¨åŸºäº PSR æ ‡å‡†å®ç°ï¼Œå‡å¯ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸¥æ ¼æ¥è®² Mix å…¶å®åªå°è£…äº† `mix/console` å‘½ä»¤è¡Œå¼€å‘ç»„ä»¶ï¼Œå…¶ä»–å…¨éƒ¨ä¸ºé€‰è£…ã€‚

æ¡†æ¶é›†æˆäº†ä¼—å¤šå¼€ç®±å³ç”¨çš„ç»„ä»¶ï¼Œæ–¹ä¾¿å¿«é€Ÿå¼€å‘ï¼Œä¸”å…¨éƒ¨ä¸ Golang ä½¿ç”¨é£æ ¼éå¸¸ç±»ä¼¼ã€‚

æˆ‘ä»¬çš„å¼€å‘æ–‡æ¡£å¯èƒ½æ˜¯æ‰€æœ‰æ¡†æ¶ä¸­æœ€è¯¦ç»†çš„ï¼Œæºç è‡ªå¸¦ Demoï¼Œç¨å¾®ä¿®æ”¹ä¸€ä¸‹å³å¯ä½¿ç”¨ã€‚

å…¨é¢é‡‡ç”¨ Swoole åŸç”Ÿåç¨‹ä¸æœ€æ–°çš„ PHP Stream ä¸€é”®åç¨‹åŒ–æŠ€æœ¯ã€‚

é‡‡ç”¨å’Œ Golang ç±»ä¼¼çš„é«˜åº¦çµæ´»çš„å¼€å‘æ–¹å¼ï¼Œæ¡†æ¶åªæä¾›åº•å±‚åº“ï¼Œè€Œä¸å…·ä½“åŠŸèƒ½ç›¸å…³çš„ä»£ç éƒ½åœ¨é¡¹ç›®åº“ä¸­å®ç°ï¼Œç”¨æˆ·èƒ½æ›´åŠ ç»†ç²’åº¦çš„ä¿®æ”¹æ¯ä¸€å¤„ç»†èŠ‚ã€‚

## æ¡†æ¶å®šä½

åœ¨å…¶ä»– Swoole æ¡†æ¶éƒ½å®šä½äºå¤§ä¸­å‹å›¢é˜Ÿã€åºå¤§çš„ PHP åº”ç”¨é›†ç¾¤çš„æ—¶å€™ï¼ŒMix å†³å®šæ¨åŠ¨è¿™é¡¹æŠ€æœ¯çš„æ™®åŠï¼Œæˆ‘ä»¬å®šä½äºä¼—å¤šçš„ä¸­å°å‹ä¼ä¸šã€åˆ›ä¸šå‹å…¬å¸ï¼Œæˆ‘ä»¬å°† Swoole çš„å¤æ‚åº¦å°è£…èµ·æ¥ï¼Œç”¨ç®€å•çš„ç¼–ç æ–¹å¼å‘ˆç°ç»™ç”¨æˆ·ï¼Œè®©æ›´å¤šçš„ä¸­çº§ç¨‹åºå‘˜ä¹Ÿå¯æ‰“é€ é«˜å¹¶å‘ç³»ç»Ÿï¼Œè®© Swoole ä¸å†åªæ˜¯é«˜çº§ç¨‹åºå‘˜çš„ä¸“åˆ©ã€‚

## æ¡†æ¶é…å¥—å·¥å…·

- [SwooleFor](https://github.com/mix-php/swoolefor)ï¼šè‡ªåŠ¨é‡å¯å·¥å…·ï¼Œå®ç°çƒ­æ›´æ–°åŠŸèƒ½
- [mix-phar-skeleton](https://github.com/mix-php/mix-phar-skeleton)ï¼šå¼€å‘ Phar æ–‡ä»¶å‘½ä»¤è¡Œçš„ç¨‹åºéª¨æ¶
- [guzzle-hook](https://github.com/mix-php/guzzle-hook)ï¼šè®© Guzzle æ”¯æŒ Swoole çš„ PHP Stream Hook åç¨‹ (æ— éœ€ä¿®æ”¹ä»£ç )

## æ€§èƒ½æµ‹è¯•

[MixPHP å¹¶å‘æ€§èƒ½å…¨é¢å¯¹æ¯”æµ‹è¯•](http://www.jianshu.com/p/f769b6be1caf)

## å¼€å‘æ–‡æ¡£

MixPHPå¼€å‘æŒ‡å—ï¼š

- http://doc.mixphp.cn
- https://www.kancloud.cn/onanying/mixphp2-1/content

## ç¯å¢ƒè¦æ±‚

* Linux, OS X, WSL
* PHP >= 7.2
* Swoole >= 4.4.0 (http-message >= 4.4.1, websocket >= 4.4.8)

## å¿«é€Ÿå¼€å§‹

æ¨èä½¿ç”¨ [composer](https://www.phpcomposer.com/) å®‰è£…ã€‚

```
composer create-project mix/mix-skeleton=v2.1.0-RC2 --prefer-dist
```

å¯åŠ¨æœåŠ¡å™¨ï¼š

æ¥ä¸‹æ¥å¯åŠ¨ HTTP æœåŠ¡å™¨ã€‚

```
$> php /data/bin/mix.php http:start
```

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œè¿è¡Œåˆ°æœ€åä½ å°†çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š

```
                              ____
 ______ ___ _____ ___   _____  / /_ _____
  / __ `__ \/ /\ \/ /__ / __ \/ __ \/ __ \
 / / / / / / / /\ \/ _ / /_/ / / / / /_/ /
/_/ /_/ /_/_/ /_/\_\  / .___/_/ /_/ .___/
                     /_/         /_/

Server         Name:      mix-httpd
System         Name:      linux
PHP            Version:   7.2.12
Swoole         Version:   4.4.3
Framework      Version:   2.1.0-alpha
Listen         Addr:      0.0.0.0
Listen         Port:      9501
[info] 2019-08-30 12:07:20.597 <31677> server start
```

è®¿é—®æµ‹è¯• (æ–°å¼€ä¸€ä¸ªç»ˆç«¯)ï¼š

```
$> curl http://127.0.0.1:9501/
Hello, World!
```

## æŠ€æœ¯äº¤æµ

ä½œè€…å¾®åšï¼šhttp://weibo.com/onanying ï¼Œå…³æ³¨æœ€æ–°è¿›å±•     
å®˜æ–¹QQç¾¤ï¼š[284806582](https://shang.qq.com/wpa/qunwpa?idkey=b3a8618d3977cda4fed2363a666b081a31d89e3d31ab164497f53b72cf49968a) [825122875](http://shang.qq.com/wpa/qunwpa?idkey=d2908b0c7095fc7ec63a2391fa4b39a8c5cb16952f6cfc3f2ce4c9726edeaf20)ï¼Œæ•²é—¨æš—å·ï¼šphper

## License

Apache License Version 2.0, http://www.apache.org/licenses/
