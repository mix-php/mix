> OpenMix å‡ºå“ï¼šhttps://openmix.org

<br>

<p align="center">
<img src="https://openmix.org/static/image/logo_php.png" width="120" alt="MixPHP">
</p>

<p align="center">é«˜æ€§èƒ½ â€¢ è½»é‡çº§ â€¢ å‘½ä»¤è¡Œ</p>

<p align="center">
<img src="https://img.shields.io/badge/php-%3E%3D7.2-brightgreen">
<img src="https://img.shields.io/badge/swoole-%3E%3D4.4.4-brightgreen">
<img src="https://img.shields.io/badge/license-apache%202-blue">
</p>

## Mix PHP æ˜¯ä»€ä¹ˆ

åŸºäº Swoole å¼€å‘çš„é«˜æ€§èƒ½ PHP æ¡†æ¶ï¼Œä» `2017` å¹´å¼€å§‹ç»è¿‡å¤šå¹´å‘å±•æ”¶è·äº†å¾ˆå¤šä¸­å°å‹å›¢é˜Ÿçš„æ”¯æŒï¼Œæ¡†æ¶ç‰ˆæœ¬ä¹Ÿç»å†äº†å¤šä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼š

- `V1.*`: åŸºäº Swoole çš„å¸¸é©»å†…å­˜å‹ PHP é«˜æ€§èƒ½æ¡†æ¶
- `V2.0`: åŸºäº Swoole çš„ FastCGIã€å¸¸é©»å†…å­˜ã€åç¨‹ä¸‰æ¨¡ PHP é«˜æ€§èƒ½æ¡†æ¶
- `V2.1`: åŸºäº Swoole 4.4+ å•çº¿ç¨‹åç¨‹ PHP æ¡†æ¶ 
- `V2.2`: åŸºäº Swoole 4.4+ å•çº¿ç¨‹åç¨‹ PHP å¾®æœåŠ¡æ¡†æ¶ ğŸ†•

## ä¸ä¼ ç»Ÿ MVC æ¡†æ¶æ¯”è¾ƒ

ä¼ ç»Ÿæ¡†æ¶å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨ HTTP é¢†åŸŸå¼€å‘ï¼Œè€Œ Mix èƒ½å¼€å‘ HTTPã€WebSocketã€TCPã€UDPã€RPC å‡ ä¹å…¨éƒ¨äº’è”ç½‘é¢†åŸŸã€‚

åœ¨å‘½ä»¤å¼€å‘æ–¹é¢ Mix ä¹Ÿæœ‰æ›´å¤šçš„å°è£…ï¼Œå¡«å……ä»£ç å³å¯å¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„å‘½ä»¤è¡Œç¨‹åºã€‚

åœ¨æ€§èƒ½æ–¹é¢é‡‡ç”¨å¸¸é©»å†…å­˜+åç¨‹ï¼Œæ‹¥æœ‰ä¼ ç»Ÿæ¡†æ¶æ— æ³•æ¯”æ‹Ÿçš„æ€§èƒ½ã€‚ 

## ä¸å…¶ä»–åŸºäº Swoole çš„æ¡†æ¶æ¯”è¾ƒ

æœåŠ¡å™¨å…¨éƒ¨åŸºäº Swoole\Coroutine\Server å¼€å‘ï¼Œçº¿ç¨‹æ¨¡å‹ä¸ Node.js ä¸€æ ·ä¸ºå•è¿›ç¨‹å•çº¿ç¨‹æ¨¡å‹ (ç°æœ‰å…¶ä»– Swoole æ¡†æ¶åŸºæœ¬éƒ½æ˜¯å¤šè¿›ç¨‹æ¨¡å‹)ï¼Œç»„ä»¶å°è£…é£æ ¼å‚è€ƒ Golangï¼Œè¿™æ ·æ—¢æ‹¥æœ‰ Golang çš„ CSP å¹¶å‘æ¨¡å‹ï¼Œåˆæ— éœ€åƒ Golang ä¸€æ ·å¤„ç†æ•°æ®çš„å¹¶å‘å®‰å…¨ã€‚[[ä¸ºä½•ä» Reactor+Manager+Worker å¤šè¿›ç¨‹æ”¹ä¸ºå•çº¿ç¨‹åç¨‹]](https://zhuanlan.zhihu.com/p/93200932)

æ¡†æ¶éå¸¸è½»é‡çµæ´»ï¼Œç°æœ‰ç»„ä»¶å…¨éƒ¨åŸºäº PSR æ ‡å‡†å®ç°ï¼Œå‡å¯ç‹¬ç«‹ä½¿ç”¨ï¼Œä¸¥æ ¼æ¥è®² Mix å…¶å®åªå°è£…äº† `mix/console` å‘½ä»¤è¡Œå¼€å‘ç»„ä»¶ï¼Œå…¶ä»–å…¨éƒ¨ä¸ºé€‰è£…ã€‚

æ¡†æ¶é›†æˆäº†ä¼—å¤šå¼€ç®±å³ç”¨çš„ç»„ä»¶ï¼Œæ–¹ä¾¿å¿«é€Ÿå¼€å‘ï¼Œä¸”å…¨éƒ¨ä¸ Golang ä½¿ç”¨é£æ ¼éå¸¸ç±»ä¼¼ã€‚

æˆ‘ä»¬çš„å¼€å‘æ–‡æ¡£å¯èƒ½æ˜¯æ‰€æœ‰æ¡†æ¶ä¸­æœ€è¯¦ç»†çš„ï¼Œæºç è‡ªå¸¦ Demoï¼Œç¨å¾®ä¿®æ”¹ä¸€ä¸‹å³å¯ä½¿ç”¨ã€‚

å…¨é¢é‡‡ç”¨ Swoole åŸç”Ÿåç¨‹ä¸æœ€æ–°çš„ PHP Stream Hook ä¸€é”®åç¨‹åŒ–æŠ€æœ¯ã€‚

é‡‡ç”¨å’Œ Golang ç±»ä¼¼çš„é«˜åº¦çµæ´»çš„å¼€å‘æ–¹å¼ï¼Œæ¡†æ¶åªæä¾›åº•å±‚åº“ï¼Œè€Œä¸å…·ä½“åŠŸèƒ½ç›¸å…³çš„ä»£ç éƒ½åœ¨é¡¹ç›®åº“ä¸­å®ç°ï¼Œç”¨æˆ·èƒ½æ›´åŠ ç»†ç²’åº¦çš„ä¿®æ”¹æ¯ä¸€å¤„ç»†èŠ‚ã€‚

å¦‚æœè¯´ Hyperf æ˜¯ Swoole æŠ€æœ¯åœˆçš„ Java æ¡†æ¶ï¼Œé‚£ Mix å°±æ˜¯ Golang æ¡†æ¶ã€‚

## ä¸ Mix Go çš„å…³ç³»

[MixGo](https://github.com/mix-go/mix) è®¾è®¡å“²å­¦ä¸ MixPHP å‡ ä¹å®Œå…¨ä¸€è‡´ï¼ŒPHP çš„ç”¨æˆ·å¯ä»¥éå¸¸å®¹æ˜“çš„åˆ‡æ¢åˆ° MixGo è¿›è¡Œå¼€å‘ï¼Œè¾¾åˆ°å­¦ä¸€ä¼šäºŒçš„æ•ˆæœï¼Œ[OpenMix](http://openmix.org) å¯èƒ½æ˜¯ç°åœ¨å”¯ä¸€ä¸€ä¸ªæ‰“é€ è·¨è¯­è¨€æ¡†æ¶çš„å¼€æºæœºæ„ã€‚

## å¾®æœåŠ¡

å¾®æœåŠ¡æ–¹é¢æˆ‘ä»¬æ¿€è¿›çš„é€‰æ‹©äº†å’Œå…¶ä»– Swoole æ¡†æ¶æˆªç„¶ä¸åŒçš„è·¯å¾„ï¼Œåœ¨ç°æœ‰æµè¡Œè¯­è¨€ä¸­åªæœ‰ java spring cloud, golang go-micro ä¸¤å¤§å¾®æœåŠ¡ç”Ÿæ€æœ€ä¸ºæˆç†Ÿï¼Œç”±äº Mix ä¸€ç›´æ˜¯ç±» golang é£æ ¼æ¡†æ¶ï¼ŒåŠ ä¸Šå•è¿›ç¨‹åç¨‹çš„ç‹¬ç‰¹ä¼˜ç‚¹ï¼Œæˆ‘ä»¬å®ç°äº† [go-micro](https://github.com/micro/go-micro) çš„ä»£ç çº§äº’é€šï¼Œå¹¶å¯ä»¥ä½¿ç”¨ [micro runtime](https://micro.mu/docs/runtime.html) å·¥å…·åŒ…çš„ç½‘å…³ã€ä»£ç†ã€Dashboard ç­‰å…¨éƒ¨å¾®æœåŠ¡æ²»ç†åŸºç¡€è®¾æ–½ï¼Œè¿™æ„å‘³ç€ PHP èƒ½ä¸ Go ä¸€åŒæ— ç¼æ‰“é€ é«˜æ€§èƒ½ RPC æœåŠ¡ç½‘æ ¼ï¼ŒåŠ ä¸Š Mix = beego + go-micro ä¸¤å¤§æ¡†æ¶çš„åŠŸèƒ½é›†åˆï¼Œå› æ­¤é‡‡ç”¨ Mix å¼€å‘çš„å•ä½“åº”ç”¨èƒ½åœ¨æ— éœ€å¤§é‡ä¿®æ”¹ä¸šåŠ¡ä»£ç çš„æƒ…å†µä¸‹ä½æˆæœ¬å‡çº§åˆ°å¾®æœåŠ¡ã€‚

- [Mix Micro](https://github.com/mix-php/micro)ï¼šä¸ go-micro ç”Ÿæ€æ·±åº¦é›†æˆçš„ php å¾®æœåŠ¡å¼€å‘æ¡†æ¶

## æ¡†æ¶å®šä½

åœ¨å…¶ä»– Swoole æ¡†æ¶éƒ½å®šä½äºå¤§ä¸­å‹ä¼ä¸šçš„æ—¶å€™ï¼ŒMix å†³å®šæ¨åŠ¨è¿™é¡¹æŠ€æœ¯çš„æ™®åŠï¼Œæˆ‘ä»¬å®šä½äºä¼—å¤šçš„ä¸­å°å‹ä¼ä¸šã€åˆ›ä¸šå‹å…¬å¸ï¼Œæˆ‘ä»¬å°† Swoole çš„å¤æ‚åº¦å°è£…èµ·æ¥ï¼Œç”¨ç®€å•çš„ç¼–ç æ–¹å¼å‘ˆç°ç»™ç”¨æˆ·ï¼Œè®©æ›´å¤šçš„ä¸­çº§ç¨‹åºå‘˜ä¹Ÿå¯æ‰“é€ é«˜å¹¶å‘ç³»ç»Ÿï¼Œè®© Swoole ä¸å†åªæ˜¯é«˜çº§ç¨‹åºå‘˜çš„ä¸“åˆ©ã€‚

## æ¡†æ¶é…å¥—å·¥å…·

- [SwooleFor](https://github.com/mix-php/swoolefor)ï¼šè‡ªåŠ¨é‡å¯å·¥å…·ï¼Œå®ç°çƒ­æ›´æ–°åŠŸèƒ½

## æ€§èƒ½æµ‹è¯•

- [MixPHP 2.2 / Beego 1.12 æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½å¯¹æ¯”](https://zhuanlan.zhihu.com/p/163700975)
- [PHP7.3+Swoole4.4 / Go1.13 / MixPHP2.2 / Beego1.12 æ€§èƒ½å¯¹æ¯”](https://zhuanlan.zhihu.com/p/162998384)
- [MixPHP å¹¶å‘æ€§èƒ½å…¨é¢å¯¹æ¯”æµ‹è¯•](http://www.jianshu.com/p/f769b6be1caf)

## å¼€å‘æ–‡æ¡£

MixPHPå¼€å‘æŒ‡å—ï¼š

- https://openmix.org/mix-php/doc
- https://www.kancloud.cn/onanying/mixphp2-2/content

## æŠ€æœ¯äº¤æµ

çŸ¥ä¹ï¼šhttps://www.zhihu.com/people/onanying   
å¾®åšï¼šhttp://weibo.com/onanying    
å®˜æ–¹QQç¾¤ï¼š[284806582](https://shang.qq.com/wpa/qunwpa?idkey=b3a8618d3977cda4fed2363a666b081a31d89e3d31ab164497f53b72cf49968a), [825122875](http://shang.qq.com/wpa/qunwpa?idkey=d2908b0c7095fc7ec63a2391fa4b39a8c5cb16952f6cfc3f2ce4c9726edeaf20)ï¼Œæ•²é—¨æš—å·ï¼šphper

## ç¯å¢ƒè¦æ±‚

* Linux, OS X, WSL
* PHP >= 7.2
* Swoole >= 4.4.4 (websocket >= 4.4.15)

## å¿«é€Ÿå¼€å§‹

æ¨èä½¿ç”¨ [composer](https://www.phpcomposer.com/) å®‰è£…ã€‚

```
composer create-project --prefer-dist mix/mix-skeleton mix ~2.2.0
```

å¯åŠ¨æœåŠ¡å™¨ï¼š

æ¥ä¸‹æ¥å¯åŠ¨ HTTP æœåŠ¡å™¨ã€‚

```
$> php /data/bin/mix.php web
```

å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œè¿è¡Œåˆ°æœ€åä½ å°†çœ‹åˆ°å¦‚ä¸‹çš„è¾“å‡ºï¼š

```
                              ____
 ______ ___ _____ ___   _____  / /_ _____
  / __ `__ \/ /\ \/ /__ / __ \/ __ \/ __ \
 / / / / / / / /\ \/ _ / /_/ / / / / /_/ /
/_/ /_/ /_/_/ /_/\_\  / .___/_/ /_/ .___/
                     /_/         /_/

Server         Name:      mix-web
System         Name:      darwin
PHP            Version:   7.3.12
Swoole         Version:   4.5.0
Framework      Version:   2.2.2
Listen         Addr:      0.0.0.0
Listen         Port:      9501
[2020-05-16 18:09:43] WEB.INFO: server start
```

è®¿é—®æµ‹è¯• (æ–°å¼€ä¸€ä¸ªç»ˆç«¯)ï¼š

```
$> curl http://127.0.0.1:9501/
Hello, World!
```

## License

Apache License Version 2.0, http://www.apache.org/licenses/
